<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>TP1: Prise en main de Python – HAX603X: Modélisation stochastique</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../TP/TP2.html" rel="next">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-25d362aa3afec45ecf1ae134bfa15e67.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-8ce12cbce1f234ede3216fc2175f79d8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script src="../site_libs/quarto-contrib/videojs/video.min.js"></script>
<link href="../site_libs/quarto-contrib/videojs/video-js.css" rel="stylesheet">
<script src="../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(../bg_pine_trees.jpg);
background-size: cover;
      }
</style>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../custom.scss">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="https://josephsalmon.eu/img/Flag_of_Occitania.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">HAX603X</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-cours" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Cours</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-cours">    
        <li>
    <a class="dropdown-item" href="../Courses/perspective_historique.html">
 <span class="dropdown-text">Perspectives historiques</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/notations.html">
 <span class="dropdown-text">Notations et rappels</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/th_asymptotique.html">
 <span class="dropdown-text">Théorèmes asymptotiques</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/simulation.html">
 <span class="dropdown-text">Simulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/loi_normale1D.html">
 <span class="dropdown-text">Loi normale: cas univarié</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/loi_normale_multi.html">
 <span class="dropdown-text">Loi normale: cas multivarié</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/monte_carlo.html">
 <span class="dropdown-text">Méthode de Monte Carlo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Courses/marche_aleatoire.html">
 <span class="dropdown-text">Marches aléatoires</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Slides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../Courses/slides.html">
 <span class="dropdown-text">Slides: menu principal</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Slides/slides_intro.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Slides/slides_notations_premiers_pas.html">
 <span class="dropdown-text">Notations et premiers pas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Slides/slides_th_asymptotique.html">
 <span class="dropdown-text">Théorèmes asymptotiques</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Slides/slides_simulation.html">
 <span class="dropdown-text">Simulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Slides/slides_loi_normale1D.html">
 <span class="dropdown-text">Loi normale: cas univarié</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Slides/slides_loi_normale_multi.html">
 <span class="dropdown-text">Loi normale: cas multivarié</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tp" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">TP</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tp">    
        <li>
    <a class="dropdown-item" href="../TP/TP1.html">
 <span class="dropdown-text">TP1: Prise en main de Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TP/TP2.html">
 <span class="dropdown-text">TP2: Simulation de lois élémentaires</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TP/TP3.html">
 <span class="dropdown-text">TP3: Simulation de variables aléatoires</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TP/TP5.html">
 <span class="dropdown-text">TP5: Méthode de Monte-Carlo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TP/TP6.html">
 <span class="dropdown-text">TP6: Marches Aléatoires</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-td" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">TD</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-td">    
        <li>
    <a class="dropdown-item" href="../TD/TD1.html">
 <span class="dropdown-text">Simulation de variables aléatoires</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TD/TD2.html">
 <span class="dropdown-text">Autour de la loi normale</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TD/TD3.html">
 <span class="dropdown-text">Méthode de Monte Carlo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TD/TD4.html">
 <span class="dropdown-text">Marches aléatoires</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-quarto" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Quarto</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-quarto">    
        <li>
    <a class="dropdown-item" href="../TP/markdown.html">
 <span class="dropdown-text">Démarrage en Markdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../TP/quarto.html">
 <span class="dropdown-text">Démarrage en Quarto</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://moodle.umontpellier.fr/course/view.php?id=25763"> 
<span class="menu-text"><iconify-icon role="img" inline="" icon="simple-icons:moodle" aria-label="Icon moodle from simple-icons Iconify.design set." title="Moodle"></iconify-icon></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/josephsalmon/HAX603X"> 
<span class="menu-text"><iconify-icon role="img" inline="" icon="simple-icons:github" aria-label="Icon github from simple-icons Iconify.design set." title="GitHub"></iconify-icon></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">TP1: Prise en main de Python</h1>
        </a>     
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">TP1: Prise en main de Python</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TP/TP1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">TP1: Prise en main de Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TP/TP2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP2: Simulation de lois élémentaires</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TP/TP3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP3: Simulation de variables aléatoires</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TP/TP5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP5: Méthode de Monte-Carlo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../TP/TP6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TP6: Marches Aléatoires</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sur cette page</h2>
   
  <ul>
  <li><a href="#prise-en-main-de-python" id="toc-prise-en-main-de-python" class="nav-link active" data-scroll-target="#prise-en-main-de-python">Prise en main de Python</a>
  <ul class="collapse">
  <li><a href="#installation-de-python" id="toc-installation-de-python" class="nav-link" data-scroll-target="#installation-de-python">Installation de Python</a></li>
  <li><a href="#lenvironnement-de-travail-vscode-vscodium" id="toc-lenvironnement-de-travail-vscode-vscodium" class="nav-link" data-scroll-target="#lenvironnement-de-travail-vscode-vscodium">L’environnement de travail VSCode / VSCodium</a></li>
  <li><a href="#premiers-pas" id="toc-premiers-pas" class="nav-link" data-scroll-target="#premiers-pas">Premiers pas</a></li>
  <li><a href="#lenvironnement-de-travail" id="toc-lenvironnement-de-travail" class="nav-link" data-scroll-target="#lenvironnement-de-travail">L’environnement de travail</a></li>
  <li><a href="#aide-en-python" id="toc-aide-en-python" class="nav-link" data-scroll-target="#aide-en-python">Aide en Python</a></li>
  <li><a href="#répertoire-de-travail" id="toc-répertoire-de-travail" class="nav-link" data-scroll-target="#répertoire-de-travail">Répertoire de travail</a></li>
  <li><a href="#création-et-affectation-de-variables" id="toc-création-et-affectation-de-variables" class="nav-link" data-scroll-target="#création-et-affectation-de-variables">Création et affectation de variables</a></li>
  </ul></li>
  <li><a href="#numpy-et-calcul-scientifique-en-python" id="toc-numpy-et-calcul-scientifique-en-python" class="nav-link" data-scroll-target="#numpy-et-calcul-scientifique-en-python"><code>numpy</code> et calcul scientifique en Python</a>
  <ul class="collapse">
  <li><a href="#vecteurs-en-numpy" id="toc-vecteurs-en-numpy" class="nav-link" data-scroll-target="#vecteurs-en-numpy">Vecteurs en <code>numpy</code></a></li>
  <li><a href="#suites-régulières" id="toc-suites-régulières" class="nav-link" data-scroll-target="#suites-régulières">Suites régulières</a></li>
  </ul></li>
  <li><a href="#visualisation-dune-figure" id="toc-visualisation-dune-figure" class="nav-link" data-scroll-target="#visualisation-dune-figure">Visualisation d’une figure</a></li>
  <li><a href="#aspects-aléatoires" id="toc-aspects-aléatoires" class="nav-link" data-scroll-target="#aspects-aléatoires">Aspects aléatoires</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/josephsalmon/HAX603X/blob/main/TP/TP1.qmd" class="toc-action"><i class="bi bi-github"></i>Voir la source</a></li><li><a href="https://github.com/josephsalmon/HAX603X/issues/new" class="toc-action"><i class="bi empty"></i>Faire part d'un problème</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Objectifs de ce TP
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Utiliser les opérateurs classiques en Python <code>(+,-,*,/,**,@)</code>, etc., savoir créer une fonction, générer un graphique clair et lisible</li>
<li>Qu’est-ce que la précision de calcul ? Comment utiliser de une visualisation pour mieux comprendre un théorème ou une fonction ?</li>
<li>Comprendre au mieux comment utiliser les fonctions aléatoires (principalement les générateurs) en <code>numpy</code>.</li>
</ul>
</div>
</div>
<section id="prise-en-main-de-python" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="prise-en-main-de-python">Prise en main de Python</h2>
<p>Python est un langage ouvert qui permet de manipuler des données, faire des analyses statistiques, tracer des graphes, et bien d’autres choses encore. Il est distribué gratuitement et vous pouvez le télécharger et l’installer sur une machine personnelle. Dans ce premier TP, on présente les bases de Python.</p>
<p>Pour plus de détails on pourra consulter les ouvrages:</p>
<ul>
<li>Introduction à Python <a href="https://python.sdv.univ-paris-diderot.fr/">Cours de Python</a> <span class="emoji" data-emoji="fr">🇫🇷</span></li>
<li><a href="https://josephsalmon.eu/HLMA310.html">HLMA310 - Logiciels scientifiques</a> <span class="emoji" data-emoji="fr">🇫🇷</span></li>
<li>Manuel d’algorithmique en Python <span class="citation" data-cites="Courant_deFalco_Gonnord_Filliatre_Conchon_Dowek_Wack13">(<a href="#ref-Courant_deFalco_Gonnord_Filliatre_Conchon_Dowek_Wack13" role="doc-biblioref">Courant et al. 2013</a>)</span> <span class="emoji" data-emoji="fr">🇫🇷</span></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="ref-Courant_deFalco_Gonnord_Filliatre_Conchon_Dowek_Wack13" class="csl-entry" role="listitem">
Courant, J., M. de Falco, S. Gonnord, J.-C. Filliâtre, S. Conchon, G. Dowek, et B. Wack. 2013. <em>Informatique pour tous en classes préparatoires aux grandes écoles: Manuel d’algorithmique et programmation structurée avec Python</em>. Eyrolles.
</div></div><section id="installation-de-python" class="level3">
<h3 class="anchored" data-anchor-id="installation-de-python">Installation de Python</h3>
<p><strong>Tout est déjà installé sur les ordinateurs de l’université. Cette section n’est utile que si vous souhaitez utiliser votre propre machine.</strong></p>
<p>Le conseil principal, est d’installer VSCode et d’utiliser l’extension Python associée. Pour Python, privilégier Conda (ou Mamba) pour installer les packages, voir par exemple: <a href="https://datascientest.com/installer-anaconda-tout-savoir">installer-anaconda</a>.</p>
</section>
<section id="lenvironnement-de-travail-vscode-vscodium" class="level3">
<h3 class="anchored" data-anchor-id="lenvironnement-de-travail-vscode-vscodium">L’environnement de travail VSCode / VSCodium</h3>
<p>On travaillera sous VSCodium (une variante de VSCode) sur les machines de l’Université, un éditeur de texte qui permet de travailler avec Python, mais aussi avec LaTeX, Markdown, R, etc.</p>
<ul>
<li>Lancer l’application VSCodium, par exemple en cliquant sur l’icône “Application Menu” en haut à gauche de votre écran, puis en tapant “VSCodium” dans la barre de recherche. La démarche à suivre est visible dans la vidéo ci-dessous:</li>
</ul>
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="./Videos/VSCode.mp4"></video></div>
<!-- ffmpeg -i Python_VSCOde.webm -vf "pad=ceil(iw/2)*2:ceil(ih/2)*2" -r 24 -t 13 -y -an Python_VSCode.mp4 -->
<ul>
<li>Si besoin (à ne faire qu’une fois), il vous faut installer l’extension “<a href="Python extension for Visual Studio Code">https://open-vsx.org/extension/ms-python/python</a>”. Pour cela, il y a plusieurs stratégies. La plus simple consiste à cliquer sur le menu d’installation et chercher l’application Python “Python, extension for Visual Studio Code”, proposée par Microsoft, Intellisense, (attention il y a beaucoup, choisir la bonne, avec plusieurs millions d’étoiles et de téléchargements):</li>
</ul>
<div class="quarto-video"><video id="video_shortcode_videojs_video2" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="./Videos/Python_VSCode.mp4"></video></div>
<p><u>Remarque</u>: Une alternative est d’aller dans le menu “View/Command Palette” (accessible avec <code>ctrl + shift + p</code>), et taper “<strong>Extensions : install extensions</strong>” et installer l’extension “Python, extension for Visual Studio Code” (proposée par Microsoft). Au besoin, il faudra recharger (<em>reload</em>) VSCodium. Si vous avez déjà installé l’extension Python sur votre machine personnelle, vous pouvez passer cette étape.</p>
<p>La même opération devra être faite pour installer l’extension “<a href="Jupyter Extension for Visual Studio Code">https://open-vsx.org/extension/ms-toolsai/jupyter</a>” (proposée par Microsoft,) qui nous permettra de manipuler des fenêtres interactives:</p>
<div class="quarto-video"><video id="video_shortcode_videojs_video3" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="./Videos/Jupyter.mp4"></video></div>
<!-- ffmpeg -i Jupyter.webm -vf "pad=ceil(iw/2)*2:ceil(ih/2)*2" -r 24 -t 15 -y -an Jupyter.mp4 -->
</section>
<section id="premiers-pas" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="premiers-pas">Premiers pas</h3>
<ul>
<li>Créer un nouveau fichier dans VSCodium intitulé <code>HAX603X_tp1.py</code>, et sauvegarder le dans un dossier <code>HAX603X</code>.</li>
<li>Dans ce fichier, copier-coller le code de la boîte suivante. On pourra alors lancer des cellules de code en tapant sur <code>shift + enter</code> dans une cellule délimitée par les symboles <code>\# \%\%</code>. On peut aussi lancer la cellule en cliquant sur le bouton “run cell” dans VSCodium (ou clique droit puis une option de type “run cell” ou “run all cell”).</li>
</ul>
<div id="f10cde2a" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># %%</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Début de cellule</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">1</span> <span class="op">+</span> <span class="dv">3</span>)  <span class="co"># commentaire en ligne</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># %%</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Une autre cellule</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">2</span><span class="op">**</span><span class="dv">3</span>)  <span class="co"># commentaire en ligne</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>4
8</code></pre>
</div>
</div>
<div class="quarto-video"><video id="video_shortcode_videojs_video4" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="./Videos/Cells.mp4"></video></div>
<!-- ffmpeg -i Cells.webm -vf "pad=ceil(iw/2)*2:ceil(ih/2)*2" -r 24 -t 15 -y -an Cells.mp4 -->
<ul>
<li><p>Cliquer dans VSCodium sur la version de “Python” en bas de votre écran et choisir sur les machines de l’école l’environnement ‘datascience’ (version: 3.10.6 au 20/01/2024). Si vous travaillez sur votre machine personnelle, choisissez un environnement de base, ou bien créer un environnement <code>conda</code> qui vous conviendra, par exemple avec <code>Miniconda</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p></li>
<li><p>Vérifier que maintenant vous pouvez lancer une cellule, par exemple en tapant <code>crtl + enter</code>, ou bien en cliquant sur le bouton “run cell”.</p></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;<a href="https://zestedesavoir.com/tutoriels/1448/installer-un-environnement-de-developpement-python-avec-conda/">Installer un environnement de développement Python avec Conda</a></p></div></div></section>
<section id="lenvironnement-de-travail" class="level3">
<h3 class="anchored" data-anchor-id="lenvironnement-de-travail">L’environnement de travail</h3>
<p>Vous voyez apparaître plusieurs fenêtres :</p>
<ul>
<li>la console (à droite), avec les environnement et l’historique (en haut à droite)</li>
<li>la fenêtre de texte (à gauche)</li>
</ul>
<p>La console permet d’exécuter des instructions ou commandes. C’est ici que vous donnez vos instructions et que s’affichent les résultats demandés. La fenêtre d’environnement et d’historique recense l’historique des commandes et les variables qui ont été définies. Enfin, la fenêtre de texte permet d’écrire du texte, des commentaires, bref les fichiers que vous conserverez.</p>
<p>Une manière simple de garder traces de vos calculs/instructions est de les écrire dans un fichier texte (ici <code>HAX603X_tp1.py</code>), et de les délimiter par des symboles <code>\# \%\%</code> (voir ci-dessus), et de les lancer en tapant <code>shift + enter</code> dans une cellule délimitée par les symboles <code>\# \%\%</code>.</p>
<p>Une première utilisation basique de Python concerne les calculs. Vous pouvez entrer toutes les opérations classiques : addition <code>+</code>, soustraction <code>-</code>, multiplication <code>*</code>, division <code>/</code>, puissance <code>**</code>, etc. Les fonctions usuelles sont également déjà programmées en Python, mais nécessite le chargement du package <code>numpy</code> : exponentielle, logarithme, fonctions trigonométriques, racine carrée, etc.</p>
<p>Pour cela il suffit de taper <code>import numpy as np</code> dans une cellule de code, puis d’utiliser les fonctions de <code>numpy</code> comme suit par exemple:</p>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.exp(<span class="dv">1</span>))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.log(<span class="dv">2</span>))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.sin(np.pi))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="130a7efb" class="cell quarto-layout-panel" data-execution_count="2" data-layout-ncol="1">
<div class="quarto-layout-row">
<div class="cell-output cell-output-stdout quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<pre><code>2.718281828459045
0.6931471805599453
1.2246467991473532e-16</code></pre>
</div>
</div>
</div>
<section id="question-fonctions-mathématiques" class="level4">
<h4 class="anchored" data-anchor-id="question-fonctions-mathématiques">Question : fonctions mathématiques</h4>
<p>Entrez quelques opérations de base pour vous familiariser avec les instructions sur Python. Faire de même avec les fonctions <code>np.exp</code>, <code>np.log</code>, <code>np.sin</code>, <code>np.cos</code>, <code>np.tan</code>, <code>np.sqrt</code>, <code>np.abs</code>,<code>np.round</code>. Entrer les instructions <code>1/0</code> et <code>np.sqrt(-2)</code>. Que constatez-vous ?</p>
<p>On remarquera qu’on peut utiliser le symbole <code>np.inf</code> pour représenter l’infini. Par ailleurs, si un résultat n’est pas possible (par exemple en tapant <code>np.sqrt(-2)</code> ou <code>np.inf - np.inf</code>), alors on obtient <code>nan</code> qui signifie <strong>Not a Number</strong>.</p>
<p>Il faut se souvenir que les calculs numériques ne sont pas toujours exacts du fait de la discrétisation des nombres sur machine. Taper par exemple <code>np.sin(0)</code>, <code>np.sin(2*np.pi)</code> et <code>np.sin(np.pi*10**16)</code>. Voir aussi les différences entre:</p>
<div id="98374dd1" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="fl">0.6</span>, <span class="fl">0.3</span> <span class="op">+</span> <span class="fl">0.2</span> <span class="op">+</span> <span class="fl">0.1</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="fl">0.6</span>, <span class="fl">0.1</span> <span class="op">+</span> <span class="fl">0.2</span> <span class="op">+</span> <span class="fl">0.3</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.6 0.6
0.6 0.6000000000000001</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour aller plus loin
</div>
</div>
<div class="callout-body-container callout-body">
<p>On pourra consulter <a href="https://0.30000000000000004.com/">https://0.30000000000000004.com/</a> pour plus de détails sur les ce type de phénomènes.</p>
</div>
</div>
</section>
</section>
<section id="aide-en-python" class="level3">
<h3 class="anchored" data-anchor-id="aide-en-python">Aide en Python</h3>
<p>On peut utiliser l’aide de base de <code>python</code> avec les commandes <code>help(la-fonction)</code> ou <code>?la-fonction</code>. L’aide en ligne est aussi conseillée, surtout pour la création de graphiques avec <code>matplotlib</code> pour avoir plus de détails et des galleries de visualisation.</p>
</section>
<section id="répertoire-de-travail" class="level3">
<h3 class="anchored" data-anchor-id="répertoire-de-travail">Répertoire de travail</h3>
<p>Le répertoire de travail (<span class="emoji" data-emoji="gb">🇬🇧</span>: <strong>working directory</strong>) est le répertoire par défaut, c’est-à-dire le répertoire qui s’ouvre quand vous cliquez sur le bouton pour enregistrer un fichier. La commande pour connaître le répertoire de travail actuel est <code>getcwd</code> du package <code>os</code>:</p>
<div id="09aaeb21" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(os.getcwd())</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/home/jsalmon/Documents/Mes_cours/Montpellier/HAX603X/HAX603X/TP</code></pre>
</div>
</div>
<p>Pour changer le répertoire de travail, on pourra utiliser la commande <code>os.chdir</code> avec un nom de répertoire (valide) entre guillemets, par exemple sous Linux la commande suivante permet de remonter d’un cran dans l’arborescence des répertoires:</p>
<div id="636180e2" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>os.chdir(<span class="st">'../'</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si l’on ferme la fenêtre interactive (à droite), alors exécuter une cellule lancera une nouvelle fenêtre interactive dans le répertoire de travail qui correspond au fichier courant que l’on édite (ici le fichier <code>HAX603X_tp1.py</code>).</p>
</section>
<section id="création-et-affectation-de-variables" class="level3">
<h3 class="anchored" data-anchor-id="création-et-affectation-de-variables">Création et affectation de variables</h3>
<p>Pour créer des objets, il suffit d’utiliser la commande <code>=</code>.</p>
<section id="question-variables" class="level4">
<h4 class="anchored" data-anchor-id="question-variables">Question : variables</h4>
<p>Créer une variable <code>x</code> qui contient la valeur <span class="math inline">12</span>. Effectuer des calculs du type <code>x+3</code>, <code>x**4</code>, <code>4*x</code> pour vérifier que tout se passe comme prévu.</p>
</section>
<section id="solution" class="level4">
<h4 class="anchored" data-anchor-id="solution"><span style="color:red;">Solution</span></h4>
<div id="fe6acef0" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">12</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x<span class="op">+</span><span class="dv">3</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x<span class="op">**</span><span class="dv">4</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">4</span><span class="op">*</span>x)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>15
20736
48</code></pre>
</div>
</div>
<p>En pratique on donnera des noms d’objets pertinents, par exemple</p>
<div id="e2399501" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>distance <span class="op">=</span> <span class="dv">105</span>  <span class="co"># en km</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>temps <span class="op">=</span> <span class="dv">2</span>  <span class="co"># en heures</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>vitesse <span class="op">=</span> distance<span class="op">/</span>temps  <span class="co"># en km/h</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>On remarquera que lorsque l’on crée des objets, ils sont stockées dans l’environnement de travail (chercher l’onglet <code>variables</code> de la fenêtre interactive).</p>
</section>
</section>
</section>
<section id="numpy-et-calcul-scientifique-en-python" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="numpy-et-calcul-scientifique-en-python"><code>numpy</code> et calcul scientifique en Python</h2>
<p><code>numpy</code> est l’outil de base en Python pour faire du calcul vectoriel et matriciel.</p>
<section id="vecteurs-en-numpy" class="level3">
<h3 class="anchored" data-anchor-id="vecteurs-en-numpy">Vecteurs en <code>numpy</code></h3>
<p>Pour créer un vecteur, la commande de base est la fonction <code>np.array</code>:</p>
<div id="a87a2ec6" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>v <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1 2 3]</code></pre>
</div>
</div>
<p>Ensuite, on peut concaténer des vecteurs, les multiplier par une constante, leur ajouter une constante, les élever à une certaine puissance, etc. Si on manipule deux vecteurs, on prendra garde à leur taille.</p>
<section id="question-vecteurs" class="level4">
<h4 class="anchored" data-anchor-id="question-vecteurs">Question : Vecteurs</h4>
<p>Créez un vecteur <code>v1</code> composé des réels <span class="math inline">7, 8, 3</span>, un vecteur <code>v2</code> composé des réels <span class="math inline">-0.5, 120, -12</span>, et un vecteur <code>v3</code> composé des réels <span class="math inline">0, 1, 0, 1</span>. Testez les commandes suivantes : <code>v1-7</code>, <code>v2**4</code>, <code>10*v3</code>, <code>v1+v2</code>, <code>v1*v2</code>, <code>v1/v2</code>, <code>v1+v3</code>.</p>
<p>Il existe un grand nombre de fonctions mathématiques qui s’appliquent directement sur un vecteur : <code>np.sum()</code>, <code>np.prod()</code>, <code>len()</code>, <code>np.min()</code>, <code>np.max()</code>, <code>np.nanmax()</code>, <code>np.argmax()</code>, <code>np.mean()</code>, <code>np.median()</code>, <code>np.var()</code>, <code>np.std()</code>.</p>
<p>Enfin on peut aussi utiliser des fonctions de tri, partiel ou non: <code>np.sort()</code>, <code>np.argsort()</code>, <code>np.partition()</code>, <code>np.argpartition()</code> on pourra consulter l’aide en ligne pour plus de détails: <a href="https://numpy.org/doc/stable/reference/routines.sort.html">https://numpy.org/doc/stable/reference/routines.sort.html</a>, et les tester sur le vecteur <code>v2</code> par exemple.</p>
</section>
<section id="solution-1" class="level4">
<h4 class="anchored" data-anchor-id="solution-1"><span style="color:red;">Solution</span></h4>
<div id="6c52df09" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>v1 <span class="op">=</span> np.array([<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">3</span>])</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>v2 <span class="op">=</span> np.array([<span class="op">-</span><span class="fl">0.5</span>, <span class="dv">120</span>, <span class="op">-</span><span class="dv">12</span>])</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>v3 <span class="op">=</span> np.array([<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v1<span class="op">-</span><span class="dv">7</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v2<span class="op">**</span><span class="dv">4</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">10</span><span class="op">*</span>v3)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v1<span class="op">+</span>v2)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v1<span class="op">*</span>v2)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v1<span class="op">/</span>v2)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v1<span class="op">+</span>v3)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[ 0  1 -4]
[6.2500e-02 2.0736e+08 2.0736e+04]
[ 0 10  0 10]
[  6.5 128.   -9. ]
[ -3.5 960.  -36. ]
[-14.           0.06666667  -0.25      ]</code></pre>
</div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[9], line 10</span>
<span class="ansi-green-fg ansi-bold">      8</span> <span style="color:rgb(0,135,0)">print</span>(v1<span style="color:rgb(98,98,98)">*</span>v2)
<span class="ansi-green-fg ansi-bold">      9</span> <span style="color:rgb(0,135,0)">print</span>(v1<span style="color:rgb(98,98,98)">/</span>v2)
<span class="ansi-green-fg">---&gt; 10</span> <span style="color:rgb(0,135,0)">print</span>(v1<span style="color:rgb(98,98,98)">+</span>v3)

<span class="ansi-red-fg">ValueError</span>: operands could not be broadcast together with shapes (3,) (4,) </pre>
</div>
</div>
</div>
<div id="da41fc3f" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>v2.sort()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(v2)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[-12.   -0.5 120. ]</code></pre>
</div>
</div>
</section>
<section id="question-opérations-sur-les-vecteurs" class="level4">
<h4 class="anchored" data-anchor-id="question-opérations-sur-les-vecteurs">Question : Opérations sur les vecteurs</h4>
<p>Créez un vecteur de taille 5 et appliquez-lui les fonctions précédentes. Si vous ne comprenez pas la sortie (utiliser l’aide avec <code>?</code> ou la documentation en ligne).</p>
</section>
<section id="solution-2" class="level4">
<h4 class="anchored" data-anchor-id="solution-2"><span style="color:red;">Solution</span></h4>
<div id="7292ab67" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>v4 <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">5</span>])</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.sort(v4))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.argsort(v4))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.partition(v4, <span class="dv">3</span>))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.argpartition(v4, <span class="dv">3</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[ 1  3  4  5  8 12]
[0 2 4 5 3 1]
[ 1  3  4  5  8 12]
[0 2 4 5 3 1]</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour aller plus loin: vectorisation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pourrez consulter les commandes décrites visuellement <a href="https://josephsalmon.github.io/HAX712X/Courses/Numpy/tp.html">ici</a> pour créer des vecteurs et/ou des matrices classiques.</p>
</div>
</div>
</section>
</section>
<section id="suites-régulières" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="suites-régulières">Suites régulières</h3>
<p>Une autre manière de créer des vecteurs consiste à créer des suites régulières :</p>
<ul>
<li><p>La commande <code>np.arange(n1, n2)</code> crée un vecteur de réels partant de <code>n1</code> et croissant d’une unité pour arriver à <code>n2</code> (exclu). On peut changer le pas en ajoutant un argument optionnel <code>np.arange(n1, n2, step=pas)</code>. Ainsi,</p>
<div id="ebde61d1" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">0</span>, <span class="dv">10</span>, step<span class="op">=</span><span class="dv">2</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>array([0, 2, 4, 6, 8])</code></pre>
</div>
</div></li>
<li><p>La commande <code>np.tile()</code> permet de répéter un vecteur un nombre de fois fixé.</p></li>
</ul>
<section id="question-arange-et-tile" class="level4">
<h4 class="anchored" data-anchor-id="question-arange-et-tile">Question: <code>arange</code> et <code>tile</code></h4>
<p>Exécutez les commandes suivantes et essayer d’analyser les sorties :</p>
<div id="654635b7" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">9</span>, <span class="dv">13</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">3</span>, <span class="op">-</span><span class="dv">8</span>, step<span class="op">=-</span><span class="dv">1</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">9</span>, <span class="dv">13</span>, step<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">9</span>, <span class="dv">13</span>, step<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>np.tile(np.arange(<span class="dv">9</span>, <span class="dv">13</span>, step<span class="op">=</span><span class="dv">3</span>), (<span class="dv">4</span>, <span class="dv">1</span>))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>array([[ 9, 12],
       [ 9, 12],
       [ 9, 12],
       [ 9, 12]])</code></pre>
</div>
</div>
<p>Enfin, pour extraire la valeur d’indice <span class="math inline">i</span> d’un vecteur <code>x</code>, on tapera <code>x[i]</code> (avec la convention que Python commence à énumérer à 0). Plus généralement, pour extraire les valeurs associées aux indices <span class="math inline">3</span>, <span class="math inline">4</span> et <span class="math inline">7</span>, on tapera <code>x[[3,4,7]]</code>. Le vérifier sur un vecteur de taille 10. On peut aussi extraire des sous parties de vecteurs, par exemple <code>x[3:7]</code> pour extraire les valeurs d’indice <span class="math inline">3</span>, <span class="math inline">4</span>, <span class="math inline">5</span> et <span class="math inline">6</span>, ou bien <code>x[3:]</code> pour extraire les valeurs d’indice <span class="math inline">3</span>, <span class="math inline">4</span>, <span class="math inline">5</span>, etc. jusqu’à la fin.</p>
<p>La fonction <code>np.shape</code> permet de connaître la taille d’un vecteur ou d’une matrice. On regardera son comportement sur les vecteurs notamment.</p>
</section>
<section id="question-opérations-élémentaires" class="level4">
<h4 class="anchored" data-anchor-id="question-opérations-élémentaires">Question : opérations élémentaires</h4>
<p>Manipulez les opérations classiques sur des matrices (<em>arrays</em>) de <code>numpy</code> (si vous êtes déjà habitué à <code>numpy</code> vous pouvez continuer)</p>
<p>Opérations termes à termes:</p>
<div id="54e97d21" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Somme de deux vecteurs</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array([<span class="fl">1.0</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> np.array([<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="op">-</span><span class="fl">3.0</span>])</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Attribuer à la variable C la somme de A et B</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>sum_A_B <span class="op">=</span> ...  <span class="co"># XXX </span><span class="al">TODO</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(np.zeros((<span class="dv">3</span>,)), sum_A_B)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked"</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Le produit terme à terme avec *</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>prod_A_B <span class="op">=</span> ...  <span class="co"># XXX </span><span class="al">TODO</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(np.array([<span class="op">-</span><span class="fl">1.0</span>, <span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">9</span>]), prod_A_B)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked"</span>)</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remarque: la même chose fonctionne terme à terme avec \, ** (puissance)</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(np.array([<span class="fl">1.0</span>, <span class="dv">4</span>, <span class="dv">9</span>]), A <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked: even for powers"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-3" class="level4">
<h4 class="anchored" data-anchor-id="solution-3"><span style="color:red;">Solution</span></h4>
<div id="c57f1a23" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Somme de deux vecteurs</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array([<span class="fl">1.0</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> np.array([<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="op">-</span><span class="fl">3.0</span>])</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>sum_A_B <span class="op">=</span> A <span class="op">+</span> B</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(np.zeros((<span class="dv">3</span>,)), sum_A_B)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked"</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Le produit terme à terme avec *</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>prod_A_B <span class="op">=</span> A <span class="op">*</span> B</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(np.array([<span class="op">-</span><span class="fl">1.0</span>, <span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">9</span>]), prod_A_B)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>it worked
it worked</code></pre>
</div>
</div>
<p>Le produit scalaire (ou matriciel) est l’opérateur <code>@</code>. Vérifiez que pour la matrice <span class="math inline">J</span> ci-dessous <span class="math inline">J^3 = Id</span> de deux façons. Pour cela on pourra aussi utiliser la puissance matricielle avec <code>np.linalg.matrix_power</code>:</p>
<div id="d5266b91" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>J <span class="op">=</span> np.array([[<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">1.0</span>], [<span class="fl">1.0</span>, <span class="dv">0</span>, <span class="dv">0</span>], [<span class="dv">0</span>, <span class="fl">1.0</span>, <span class="dv">0</span>]])</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>I3 <span class="op">=</span> np.eye(<span class="dv">3</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(I3, ...)  <span class="co"># XXX </span><span class="al">TODO</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked: method 1"</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(I3, ...)  <span class="co"># XXX </span><span class="al">TODO</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked: method 2"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-4" class="level4">
<h4 class="anchored" data-anchor-id="solution-4"><span style="color:red;">Solution</span></h4>
<div id="7f5da910" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>J <span class="op">=</span> np.array([[<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">1.0</span>], [<span class="fl">1.0</span>, <span class="dv">0</span>, <span class="dv">0</span>], [<span class="dv">0</span>, <span class="fl">1.0</span>, <span class="dv">0</span>]])</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>I3 <span class="op">=</span> np.eye(<span class="dv">3</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(I3, J <span class="op">@</span> J <span class="op">@</span> J)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked: method 1"</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(I3, np.linalg.matrix_power(J, <span class="dv">3</span>))</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"it worked: method 2"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>it worked: method 1
it worked: method 2</code></pre>
</div>
</div>
</section>
<section id="question-résolution-de-systèmes-linéaires" class="level4">
<h4 class="anchored" data-anchor-id="question-résolution-de-systèmes-linéaires">Question : résolution de systèmes linéaires</h4>
<p>Pour résoudre le système de la forme <span class="math inline">Ax=b</span> en mathématiques, la formule explicite est <span class="math inline">x=A^{-1}b</span> (dans le cas où <span class="math inline">A</span> est inversible).</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>En pratique vous n’utiliserez (presque) jamais l’inversion de matrice ! En effet, on n’inverse <strong>JAMAIS JAMAIS (!)</strong> une matrice sans une très bonne raison. La plupart du temps il existe des méthodes plus rapides pour résoudre un système numériquement !</p>
</div>
</div>
<div id="0f1ca545" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"L'inverse de la matrice: </span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>J<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> est </span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>np<span class="sc">.</span>linalg<span class="sc">.</span>inv(J)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">20</span>  <span class="co"># XXX </span><span class="al">TODO</span><span class="co">: tester avec n=100</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>Jbig <span class="op">=</span> np.roll(np.eye(n), <span class="op">-</span><span class="dv">1</span>, axis<span class="op">=</span><span class="dv">1</span>)  <span class="co"># matrice de permutation de taille n</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Jbig)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.arange(n)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(b)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co"># on peut transposer une matrice facilement de 2 manières:</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Jbig)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(Jbig.T)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.transpose(Jbig))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Comparons niveau temps d’execution l’inversion explicite vs.&nbsp;l’utilisation d’un solveur de système linéaire tel que <code>np.linalg.solve</code>, pour la matrice <span class="math inline">J</span> et le vecteur <span class="math inline">b</span> ci-dessus.</p>
<div id="ccd050c5" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Résolution de système par une méthode naive: inversion de matrice</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>t0 <span class="op">=</span> time.perf_counter()  <span class="co"># XXX </span><span class="al">TODO</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>y1 <span class="op">=</span> ... <span class="op">@</span> b</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>timing_naive <span class="op">=</span> time.perf_counter() <span class="op">-</span> t0</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Temps pour résoudre un système avec la formule mathématique: </span><span class="sc">{</span>timing_naive<span class="sc">:.4f}</span><span class="ss"> s."</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Résolution de système par une méthode adaptée: fonctions dédiée de `numpy``</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>t0 <span class="op">=</span> time.perf_counter()</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>y2 <span class="op">=</span> ...</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>timing_optimized <span class="op">=</span> time.perf_counter()</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Temps pour résoudre un système avec la formule mathématique: </span><span class="sc">{</span>timing_optimized<span class="sc">:.4f}</span><span class="ss"> s.</span><span class="ch">\n</span><span class="ss">C'est donc </span><span class="sc">{</span>timing_naive <span class="op">/</span> timing_optimized<span class="sc">}</span><span class="ss"> fois plus rapide d'utiliser la seconde formulation"</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(y1, y2)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Les deux méthodes trouvent le même résultat"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-5" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="solution-5"><span style="color:red;">Solution</span></h4>
<div id="108887c9" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>Jbig <span class="op">=</span> np.roll(np.eye(n), <span class="op">-</span><span class="dv">1</span>, axis<span class="op">=</span><span class="dv">1</span>)  <span class="co"># matrice de permutation de taille n</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.arange(n)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Résolution de système par une méthode naive: inversion de matrice</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>t0 <span class="op">=</span> time.perf_counter()</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>y1 <span class="op">=</span> np.linalg.inv(Jbig) <span class="op">@</span> b</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>timing_naive <span class="op">=</span> time.perf_counter() <span class="op">-</span> t0</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Temps pour résoudre un système avec la formule mathématique: </span><span class="sc">{</span>timing_naive<span class="sc">:.4f}</span><span class="ss"> s."</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Résolution de système par une méthode adaptée: fonctions dédiée de `numpy``</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>t0 <span class="op">=</span> time.perf_counter()</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>y2 <span class="op">=</span> np.linalg.solve(Jbig, b)</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>timing_optimized <span class="op">=</span> time.perf_counter() <span class="op">-</span> t0</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    <span class="ss">f"Temps pour résoudre un système avec la formule mathématique: </span><span class="sc">{</span>timing_optimized<span class="sc">:.4f}</span><span class="ss"> s.</span><span class="ch">\n</span><span class="ss">C'est donc </span><span class="sc">{</span>timing_naive <span class="op">/</span> timing_optimized<span class="sc">}</span><span class="ss"> fois plus rapide d'utiliser la seconde formulation"</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>np.testing.assert_allclose(y1, y2)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Les deux méthodes trouvent le même résultat"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Temps pour résoudre un système avec la formule mathématique: 0.0006 s.
Temps pour résoudre un système avec la formule mathématique: 0.0005 s.
C'est donc 1.3143240539201562 fois plus rapide d'utiliser la seconde formulation
Les deux méthodes trouvent le même résultat</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Astuce
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour des comparaisons d’efficacité temporelle plus poussées on pourra utiliser le package <code>timeit</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> ou voir la discussion ici: <a href="https://superfastpython.com/time-time-vs-time-perf_counter/">https://superfastpython.com/time-time-vs-time-perf_counter/</a>.</p>
</div>
</div>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;<a href="https://docs.python.org/3/library/timeit.html">lien vers la documentation de timeit</a></p></div></div></section>
<section id="question-découpage-slicing" class="level4">
<h4 class="anchored" data-anchor-id="question-découpage-slicing">Question découpage (<span class="emoji" data-emoji="gb">🇬🇧</span>: <em>slicing</em>)</h4>
<p>Le découpage permet d’extraire des éléments selon un critère (position, condition, etc.). La notation <code>:</code> signifie “tout le monde”, et l’indexation commence en <span class="math inline">0</span>. Pour partir de la fin, il est possible de mettre le signe <code>-</code> devant le nombre: ainsi <span class="math inline">-1</span> renvoie donc au dernier élément. Enfin, on peut extraire des sous suites d’indices pair ou impair, par exemple <code>x[::2]</code> pour extraire les valeurs d’indice pair, ou bien <code>x[1::2]</code> pour extraire les valeurs d’indice impair de <code>x</code>. Enfin on peut aussi utiliser le signe <code>-</code> pour partir de la fin, par exemple <code>x[-1]</code> pour extraire la dernière valeur, ou bien <code>x[-2]</code> pour extraire l’avant-dernière valeur.</p>
<div id="d26a1bc9" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The first column is </span><span class="sc">{</span>J[:, <span class="dv">0</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Afficher la deuxième ligne de J</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The second row is </span><span class="sc">{...}</span><span class="ss">"</span>)  <span class="co"># XXX </span><span class="al">TODO</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-6" class="level4">
<h4 class="anchored" data-anchor-id="solution-6"><span style="color:red;">Solution</span></h4>
<div id="ecfaecce" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The second row is </span><span class="sc">{</span>J[<span class="dv">1</span>, :]<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The second row is [1. 0. 0.]</code></pre>
</div>
</div>
<p>Mettre à zéro une ligne sur 2 de la matrice constante remplie de 1, de taille <span class="math inline">5\times 5</span>:</p>
<div id="8bd24f1a" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>C <span class="op">=</span> np.ones((<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>C[...,...] <span class="op">=</span> <span class="dv">0</span>  <span class="co"># mettre à zéro une ligne sur deux. # XXX </span><span class="al">TODO</span></span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-7" class="level4">
<h4 class="anchored" data-anchor-id="solution-7"><span style="color:red;">Solution</span></h4>
<div id="2c6457e2" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>C <span class="op">=</span> np.ones((<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>C[<span class="dv">1</span>::<span class="dv">2</span>, :] <span class="op">=</span> <span class="dv">0</span>  <span class="co"># mettre à zéro une ligne sur deux.</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(C)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1. 1. 1. 1. 1.]
 [0. 0. 0. 0. 0.]
 [1. 1. 1. 1. 1.]
 [0. 0. 0. 0. 0.]
 [1. 1. 1. 1. 1.]]</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="visualisation-dune-figure" class="level2">
<h2 class="anchored" data-anchor-id="visualisation-dune-figure">Visualisation d’une figure</h2>
<p>Pour lancer une figure on peut utiliser la package <code>matplotlib</code>. Un exemple utilisant le package <code>numpy</code> pour créer une figure simple est donné ci-dessous, dans la <a href="#fig-cos" class="quarto-xref">Figure&nbsp;1</a>.</p>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> np.arange(<span class="dv">0</span>, <span class="dv">2</span>, <span class="fl">0.01</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>theta <span class="op">=</span> np.cos(<span class="dv">2</span> <span class="op">*</span> np.pi <span class="op">*</span> r)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>ax.plot(r,theta)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="cell-fig-cos" class="cell quarto-layout-panel" data-execution_count="25" data-layout-ncol="1">
<div class="quarto-layout-row">
<div class="cell-output cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div id="fig-cos" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="TP1_files/figure-html/fig-cos-output-1.png" width="590" height="411" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Une figure simple.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="aspects-aléatoires" class="level2">
<h2 class="anchored" data-anchor-id="aspects-aléatoires">Aspects aléatoires</h2>
<p>Le module <code>random</code> de <code>numpy</code> permet d’utiliser l’aléatoire et des lois usuelles en Python. On crée d’abord un générateur qui nous permettra ensuite d’appeler les lois voulues comme suite:</p>
<div id="585f80d1" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np  <span class="co"># package de calcul scientifique</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt  <span class="co"># package graphique</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>generateur <span class="op">=</span> np.random.default_rng()</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>generateur.normal()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>-1.0964275714384937</code></pre>
</div>
</div>
<section id="question-matrices-aléatoires" class="level4">
<h4 class="anchored" data-anchor-id="question-matrices-aléatoires">Question : Matrices aléatoires</h4>
<p>Créer une matrice de taille <span class="math inline">5 \times 7</span> dont les entrées sont <span class="math inline">i.i.d</span> de loi de Laplace d’espérance 0 et de variance 2. Lancer plusieurs fois le code et observez les changements. On pourra s’aider <a href="https://numpy.org/doc/stable/reference/random/generator.html">de l’aide en ligne</a> si besoin.</p>
<div id="fbac1ee4" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> np.random.default_rng()</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>M <span class="op">=</span> ...  <span class="co"># XXX </span><span class="al">TODO</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(M)</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-8" class="level4">
<h4 class="anchored" data-anchor-id="solution-8"><span style="color:red;">Solution</span></h4>
<div id="05d6aed1" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> np.random.default_rng()</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>M <span class="op">=</span> rng.laplace(scale<span class="op">=</span><span class="dv">1</span>, size<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">7</span>))</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.<span class="bu">round</span>(M, <span class="dv">2</span>))</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(np.var(M))</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[ 2.42 -2.8  -1.62 -0.7   2.25 -0.49 -0.66]
 [ 0.06  0.31  3.65 -0.34  0.75 -1.22 -1.12]
 [ 0.25 -0.2  -1.35  0.37  2.34  1.02 -1.39]
 [ 1.05  0.24 -1.6  -0.19 -0.25  0.    0.45]
 [-0.79 -3.88  0.52  1.11  3.8   0.11 -0.04]]
2.441755855306769</code></pre>
</div>
</div>
</section>
<section id="question-reproduire-des-résultats" class="level4">
<h4 class="anchored" data-anchor-id="question-reproduire-des-résultats">Question : Reproduire des résultats</h4>
<p>Pour reproduire des résultats ou débugger un code, il est utile de “figer” l’aléatoire. On utilise pour cela une graine (<span class="emoji" data-emoji="fr">🇫🇷</span> <em>seed</em>) dans la création du générateur. Fixez la graine à 0 dans <code>default_rng()</code> et lancez une génération aléatoire. Commenter.</p>
<div id="95c774ba" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> np.random.default_rng(<span class="dv">0</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>rng.normal()</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>rng2 <span class="op">=</span> np.random.default_rng(...)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>rng.normal()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-afficher-un-histogramme" class="level4">
<h4 class="anchored" data-anchor-id="question-afficher-un-histogramme">Question : afficher un histogramme</h4>
<p>Avec <code>plt.subplot</code>, créer 3 histogrammes de <span class="math inline">100</span> tirages aléatoires de distributions suivantes:</p>
<ol type="1">
<li>loi gaussienne (centrée-réduite),</li>
<li>loi de Laplace,</li>
<li>loi de Cauchy.</li>
</ol>
<p>On utilisera les mêmes paramètres de centrage et d’échelle pour les trois lois, que l’on placera dans trois sous-graphiques alignés verticalement, avec un titre pour chaque loi.</p>
<div id="96af1f5c" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>n_samples <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.empty([n_samples, <span class="dv">3</span>])</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>X[:, <span class="dv">0</span>] <span class="op">=</span> ...</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>X[:, <span class="dv">1</span>] <span class="op">=</span> ...</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>X[:, <span class="dv">2</span>] <span class="op">=</span> ...</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>lois <span class="op">=</span> [<span class="st">"Loi de Gauss"</span>, <span class="st">"Loi de Laplace"</span>, <span class="st">"Loi de Cauchy"</span>]</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>fig_hist, ax <span class="op">=</span> plt.subplots(<span class="dv">3</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">3</span>))</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, name <span class="kw">in</span> <span class="bu">enumerate</span>(lois):</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    ax[i].hist(..., bins<span class="op">=</span><span class="dv">100</span>, density<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    ax[i].set_title(name)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-9" class="level4">
<h4 class="anchored" data-anchor-id="solution-9"><span style="color:red;">Solution</span></h4>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>n_samples <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.empty([n_samples, <span class="dv">3</span>])</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>X[:, <span class="dv">0</span>] <span class="op">=</span> rng.normal(size<span class="op">=</span>n_samples)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>X[:, <span class="dv">1</span>] <span class="op">=</span> rng.laplace(size<span class="op">=</span>n_samples)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>X[:, <span class="dv">2</span>] <span class="op">=</span> rng.standard_cauchy(size<span class="op">=</span>n_samples)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>lois <span class="op">=</span> [<span class="st">"Loi de Gauss"</span>, <span class="st">"Loi de Laplace"</span>, <span class="st">"Loi de Cauchy"</span>]</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>fig_hist, ax <span class="op">=</span> plt.subplots(<span class="dv">3</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">3</span>))</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, name <span class="kw">in</span> <span class="bu">enumerate</span>(lois):</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    ax[i].hist(X[:, i], bins<span class="op">=</span><span class="dv">100</span>, density<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    ax[i].set_title(name)</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copier vers le presse-papier" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="ac9467be" class="cell quarto-layout-panel" data-execution_count="31" data-layout-ncol="1">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="TP1_files/figure-html/cell-32-output-1.png" class="img-fluid" width="566"></p>
</div>
</div>
</div>
<p>De manière complémentaire le module <code>scipy.stats</code> permet d’utiliser des lois usuelles, et de faire des tests statistiques. On pourra consulter la documentation en ligne pour plus de détails: <a href="https://docs.scipy.org/doc/scipy/reference/stats.html">https://docs.scipy.org/doc/scipy/reference/stats.html</a>.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pour aller plus loin.
</div>
</div>
<div class="callout-body-container callout-body">
<p>La plupart des lois usuelles sont disponibles, cf.&nbsp;<a href="https://numpy.org/doc/stable/reference/random/generator.html">la documentation</a>; vous pourrez <a href="https://github.com/josephsalmon/Random-Widgets">en manipuler avec des widgets ici</a>.</p>
</div>
</div>



</section>
</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Retour au sommet</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/josephsalmon\.github\.io\/HAX603X\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="../TP/TP2.html" class="pagination-link" aria-label="TP2: Simulation de lois élémentaires">
        <span class="nav-page-text">TP2: Simulation de lois élémentaires</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><span class="faux-block"><i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> 2024 Joseph Salmon &amp; Benjamin Charlier</span> <span class="faux-block"><a href="https://github.com/josephsalmon/HAX603X"><i class="fa-brands fa-github" aria-label="github"></i> Source Code</a></span></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/josephsalmon/HAX603X/blob/main/TP/TP1.qmd" class="toc-action"><i class="bi bi-github"></i>Voir la source</a></li><li><a href="https://github.com/josephsalmon/HAX603X/issues/new" class="toc-action"><i class="bi empty"></i>Faire part d'un problème</a></li></ul></div></div>
    <div class="nav-footer-right">
<p><span class="faux-block"> Built with <a href="https://quarto.org/">Quarto</a></span></p>
</div>
  </div>
</footer>
<script>videojs(video_shortcode_videojs_video1);</script>
<script>videojs(video_shortcode_videojs_video2);</script>
<script>videojs(video_shortcode_videojs_video3);</script>
<script>videojs(video_shortcode_videojs_video4);</script>




</body></html>